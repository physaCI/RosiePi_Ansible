# RosiePi Ansible Playbook
# To be used with 'ansible-pull'
# - Handles tasks associated with RosiePi

- hosts: localhost
  tasks:
    - name: Get User directory
      shell:
        cmd: 'getent passwd rosie-backend | cut -d : -f 6'
      register: user_dir
      check_mode: no

    - name: pip RosiePi locally
      pip:
        name: "{{ user_dir.stdout }}/rosie_pi/."
        editable: yes
